// Internationalization for Tigrinja-AI
const translations = {
    ti: {
        'main-title': 'á‹áˆ“áˆµá‰¥ áŠ®áˆá’á‰°áˆ­ á‰¥Â´á‰µáŒáˆ­áŠ›',
        'subtitle': 'Tigrinja AI',
        'reply-in-label': 'áˆ˜áˆáˆ² á‰¥:',
        'auto-detect-info': 'á‰‹áŠ•á‰‹ áŠ£á‹á‰¶áˆ›á‰²áŠ­ á‹­áˆ•á‹ˆáˆµ',
        'welcome-message': 'ğŸ‘‹ áˆ°áˆ‹áˆ! áŠ£áŠ <strong>Tigrinja AI</strong> áŠ¥á‹¨á¢ áŠ•áˆáˆáˆ²áŠ» á‹áˆ˜áˆ­áŒ½ á‰‹áŠ•á‰‹ áŠ£á‰¥ áˆ‹á‹•áˆŠ áˆáˆ¨áŒ½á¡ á‹µáˆ•áˆªáŠ¡ á‰¥áŠ¥á‰°áŠ»áŠ¥áˆˆáŠ« á‰‹áŠ•á‰‹ áˆ•á‰¶ áˆ“á‰²áŠ•áŠ«! áˆ˜áˆáŠ¥áŠ½á‰µáŠ» á‰¥áŠ£á‹á‰¶áˆ›á‰²áŠ­ áŠ­áˆ­á‹µáŠ¦ áŠ¥á‹¨á¡ áŠ¨áˆáŠ¡á‹áŠ• á‰¥á‰•áŠ‘á‹• áŠ­áˆ˜áˆáˆµ áŠ¥á‹¨á¢',
        'input-placeholder': 'á‰¥á‹áˆ˜áˆ­áŒ½áŠ«á‹® á‰‹áŠ•á‰‹ áˆ•á‰°á‰µ...',
        'translate-btn': 'áˆá‰µáˆ­áŒ“áˆ',
        'translate-tooltip': 'áŠ£á‰¥ Google Translate áŠ­áá‰µáŠ• áŠ•áˆá‰µáˆ­áŒ“áˆ',
        'send-tooltip': 'áˆ˜áˆáŠ¥áŠ½á‰² áˆ°á‹²á‹µ',
        'processing': 'á‹­áˆ“áˆµá‰¥...',
        'english': 'English',
        'tigrinya': 'á‰µáŒáˆ­áŠ›',
        'norwegian': 'Norsk',
        'arabic': 'Arabic',
        'amharic': 'Amharic',
        'error-no-message': 'á‰¥á‹›á‹•á‰£ áŠ¥á‹š áŠ£á‹­áŠ®áŠáŠ•á¢',
        'error-processing': 'á‹­á‰•áˆ¬á‰³á¡ áˆ˜áˆáŠ¥áŠ½á‰µáŠ» áŠ­áˆ°áˆ­áˆ• áŠ£á‹­áŠ¨áŠ£áˆˆáŠ•á¢',
        'error-connection': 'á‹­á‰•áˆ¬á‰³á¡ áˆáˆµ áˆ°áˆ­á‰¨áˆ­ áŠ­á‰µá‰°áˆ“áˆ“á‹ áŠ£á‹­áŠ¨áŠ£áˆˆáŠ•á¢'
    },
    en: {
        'main-title': 'á‹áˆ“áˆµá‰¥ áŠ®áˆá’á‰°áˆ­ á‰¥Â´á‰µáŒáˆ­áŠ›',
        'subtitle': 'Tigrinja AI',
        'reply-in-label': 'Reply in:',
        'auto-detect-info': 'Input language is auto-detected',
        'welcome-message': 'ğŸ‘‹ Hello! I\'m <strong>Tigrinja AI</strong>, your intelligent multilingual assistant. Select your preferred reply language above, then ask me anything in any language! I\'ll automatically understand your message and respond fluently.',
        'input-placeholder': 'Ask me anything in any language...',
        'translate-btn': 'Translate',
        'translate-tooltip': 'Translate and open in Google Translate',
        'send-tooltip': 'Send message',
        'processing': 'Processing...',
        'english': 'English',
        'tigrinya': 'Tigrinya',
        'norwegian': 'Norwegian',
        'arabic': 'Arabic',
        'amharic': 'Amharic',
        'error-no-message': 'Please enter some text to translate.',
        'error-processing': 'Sorry, there was an error processing your message.',
        'error-connection': 'Sorry, there was an error connecting to the server.'
    },
    no: {
        'main-title': 'á‹áˆ“áˆµá‰¥ áŠ®áˆá’á‰°áˆ­ á‰¥Â´á‰µáŒáˆ­áŠ›',
        'subtitle': 'Tigrinja AI',
        'reply-in-label': 'Svar pÃ¥:',
        'auto-detect-info': 'Inndata-sprÃ¥k oppdages automatisk',
        'welcome-message': 'ğŸ‘‹ Hei! Jeg er <strong>Tigrinja AI</strong>, din intelligente flersprÃ¥klige assistent. Velg ditt foretrukne svar pÃ¥ spÃ¸rsmÃ¥let over, og still meg spÃ¸rsmÃ¥l pÃ¥ hvilket som helst sprÃ¥k! Jeg forstÃ¥r meldingen din automatisk og svarer flytende.',
        'input-placeholder': 'SpÃ¸r meg hva som helst pÃ¥ hvilket som helst sprÃ¥k...',
        'translate-btn': 'Oversett',
        'translate-tooltip': 'Oversett og Ã¥pne i Google Translate',
        'send-tooltip': 'Send melding',
        'processing': 'Behandler...',
        'english': 'Engelsk',
        'tigrinya': 'Tigrinja',
        'norwegian': 'Norsk',
        'arabic': 'Arabisk',
        'amharic': 'Amharisk',
        'error-no-message': 'Vennligst skriv inn tekst Ã¥ oversette.',
        'error-processing': 'Beklager, det oppstod en feil ved behandling av meldingen din.',
        'error-connection': 'Beklager, det oppstod en feil ved tilkobling til serveren.'
    }
};

let currentUILang = 'ti'; // Default to Tigrinya

function setUILanguage(lang) {
    currentUILang = lang;
    localStorage.setItem('uiLang', lang);
    
    const t = translations[lang] || translations.ti;
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (t[key]) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                // Don't change input values, only placeholders
                return;
            } else if (el.tagName === 'P' && key === 'welcome-message') {
                // Use innerHTML for welcome message to preserve HTML tags
                el.innerHTML = t[key];
            } else {
                el.textContent = t[key];
            }
        }
    });
    
    // Update placeholders
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (t[key]) {
            el.placeholder = t[key];
        }
    });
    
    // Update titles/tooltips
    document.querySelectorAll('[data-i18n-title]').forEach(el => {
        const key = el.getAttribute('data-i18n-title');
        if (t[key]) {
            el.title = t[key];
        }
    });
    
    // Update select options
    document.querySelectorAll('[data-i18n-option]').forEach(el => {
        const key = el.getAttribute('data-i18n-option');
        if (t[key]) {
            el.textContent = t[key];
        }
    });
}

function getTranslation(key) {
    return translations[currentUILang]?.[key] || translations.ti[key] || key;
}

